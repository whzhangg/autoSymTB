from automaticTB.tools import find_free_variable_indices
import numpy as np
import scipy
from automaticTB.printing import print_matrix

number1 = np.array([
    [7.07, 0, 0, 7.07, 0, 0],
    [0, 7.07, 0, 0, -7.07, 0],
    [0, 0, 7.07, 0, 0, -7.07],
    [0, 7.07, 0, 0, 7.07, 0],
    [0, 0, 7.07, 0, 0, 7.07],
])

number = np.array([[ 7.07106781e-01, -2.17894100e-33,  2.16489014e-17,  7.07106781e-01, -2.17894100e-33,  2.16489014e-17],
 [ 0.00000000e+00,  7.07106781e-01, -4.32978028e-17,  0.00000000e+00, -7.07106781e-01,  4.32978028e-17],
 [ 0.00000000e+00,  4.32978028e-17,  7.07106781e-01,  0.00000000e+00, -4.32978028e-17, -7.07106781e-01],
 [ 0.00000000e+00,  7.07106781e-01, -4.32978028e-17,  0.00000000e+00, 7.07106781e-01, -4.32978028e-17],
 [ 0.00000000e+00,  4.32978028e-17,  7.07106781e-01,  0.00000000e+00, 4.32978028e-17,  7.07106781e-01]], dtype=float)

number2 = np.array(
[[ 7.07106781e-01,  7.07106781e-01, -2.17894100e-33, -2.17894100e-33, 2.16489014e-17,  2.16489014e-17],
 [ 0.00000000e+00,  0.00000000e+00,  7.07106781e-01,  7.07106781e-01, -4.32978028e-17, -4.32978028e-17],
 [ 0.00000000e+00, -0.00000000e+00,  7.07106781e-01, -7.07106781e-01, -4.32978028e-17,  4.32978028e-17],
 [ 0.00000000e+00,  0.00000000e+00,  4.32978028e-17,  4.32978028e-17, 7.07106781e-01,  7.07106781e-01],
 [ 0.00000000e+00, -0.00000000e+00,  4.32978028e-17, -4.32978028e-17, 7.07106781e-01, -7.07106781e-01]]
)

print(find_free_variable_indices(number1))
print_matrix(number1)
P, L, U = scipy.linalg.lu(number1)
print_matrix(U)
print(find_free_variable_indices(number2))
print_matrix(number2)
P, L, U = scipy.linalg.lu(number2)
print_matrix(U)